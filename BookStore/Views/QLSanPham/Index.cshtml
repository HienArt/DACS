@model IEnumerable<BookStore.Models.Sach>
@helper Truncate(string input,int lenght) { 
if(input.Length < lenght)
{
        @input
}
else
{
        @input.Substring(0,lenght)<text>...</text>
}
    }


@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Thêm mới sách", "ThemMoi")
</p>

<table class="display">
    <thead>
        <tr>

            <th>
                @Html.DisplayNameFor(model => model.MaSach)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TenSach)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.GiaBan)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.MoTa)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.AnhBia)
            </th>
            <th></th>
        </tr>
    </thead>

    @foreach (var item in Model)
    {
        <tbody>
            <tr class="odd">
                <td>
                    @Html.DisplayFor(modelItem => item.MaSach)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TenSach)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.GiaBan)
                </td>
                <td>
                    @Truncate(item.MoTa, 100)
                    @*@Html.DisplayFor(modelItem => item.MoTa)*@
                </td>
                <td>
                    <img src="@Url.Content("~/HASP/"+item.AnhBia)" alt="" width="150" height="150">
                    @*@Html.DisplayFor(modelItem => item.AnhBia)*@
                </td>
                @*<td>
                        @Html.DisplayFor(modelItem => item.NgayCapNhat)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.SoLuongTon)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NhaXuatBan.TenNXB)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ChuDe.TenChuDe)
                    </td>*@
                <td>
                    @Html.ActionLink("Edit", "ChinhSua", new { @MaSach = item.MaSach })
                    @Html.ActionLink("Delete", "Xoa", new { @MaSach = item.MaSach })
                </td>
            </tr>

        </tbody>
    }
        
</table>

